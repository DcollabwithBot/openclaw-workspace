# 2026-02-13 - Personlighedsprofil & Security Hardening

## [08:11] Personlighedsprofil & Arbejdsstil

## ADHD & Arbejdspr√¶ferencer

Danny delte vigtig indsigt om sin arbejdsstil og personlighed:

**ADHD-profil:**
- Selvdiagnosticeret ADHD
- "Popcorn hjerne" - fuld af gode ideer og ting han gerne vil
- Kan drifte/afvige fra samtaler og begynde at t√¶nke p√• andre ting
- Personlighedstype: **Gul med strejf af r√∏d og gr√∏n** (ref. "Dealing with Idiots")

**Arbejdsstil:**
- **Mantra:** Pippi Langstr√∏mpe - "det har jeg aldrig pr√∏vet f√∏r - det kan jeg sikkert godt"
- **Trives:** Forskellige opgaver dag til dag - variation er n√∏glen
- **G√•r d√∏d i:** Langvarige ensformige opgaver (dokumentation, tilbud, arkitektur design)
- **Styrke:** God til at effektuere p√• ting
- **Svaghed:** Kan mangle de sidste 10% fordi han er videre til n√¶ste
- **Udfordring:** Tid er en mangelvare - vil det hele men har ikke 48 timer i d√∏gnet

**Kommunikation:**
- Direkte uden mange till√¶gsord
- "En spade er en spade og en skovl er en skovl"
- Ingen omsv√∏b

## Sideprojekter & Interesser

**Forex Trading:**
- Strategi: ORB (Opening Range Breakout) p√• 5min & 15min ved US Open
- God succesrate
- Filosofi: Simplicitet > kompleksitet for at holde sig til reglerne

**Instagram - Renovering:**
- @SlottetPaaMollegade
- Dokumenterer renovering af nuv√¶rende hus
- Billeder og progression til f√∏lgere

**Selvst√¶ndig (sidebiz):**
- Hj√¶lper prim√¶rt 2 kunder (√¶ldre mennesker)
- Lommepenge + hyggeligt, ingen st√∏rre ambitioner
- Tanke: Hvis trading stikker af ‚Üí profit til selvst√¶ndigt selskab ‚Üí udbytte/l√∏n

## Agent-implikationer

**Kommunik√©r:**
- Direkte og konkret
- Spring omsv√∏b over
- Korte budskaber

**Workflow-st√∏tte:**
- Hj√¶lp med at holde fokus
- Reminders om "de sidste 10%"
- Automatiser ensformige opgaver (dokumentation, rapporter)
- Batching af lignende opgaver

**Tidsoptimering:**
- Respekter tidspres
- Effektive l√∏sninger
- Undg√• un√∏dvendige detaljer

---

## [08:17] Security Hardening - Reddit Research

**Context:** Danny delte Reddit-tr√•d om VM hardening for OpenClaw. Identificerede gaps i vores setup.

**Gaps fundet:**
1. Ingen tool-level restrictions per agent (alle har fuld adgang til exec/write/browser)
2. Ingen fallback observability (ved ikke hvorn√•r Kimi tr√¶der ind for Sonnet)
3. Ingen Worker‚ÜíVerifier pattern for kvalitetssikring

**Beslutning:** Coordinator agent spawned til at researche og designe l√∏sning.

**Output:** `docs/security-hardening-proposal.md`

---

## [08:20] Security Hardening - Design Decisions

**Danny's beslutninger:**

### ‚úÖ Main agent skal have restrictions
**Rationale:** Tving spawning af specialiserede agents med billigere LLM'er
- Main f√•r kun: read, memory, sessions (spawn/list/send)
- INGEN: exec, write, edit, browser, nodes
- Tvinger god agent-arkitektur

### ‚úÖ Verifier agent - implementer
**Rationale:** Kvalitetssikring af agent-output
- Bruger Sonnet 4.5 (st√¶rkere end workers)
- Read + web + memory adgang
- Spawnes af orchestrator/coordinator
- Ekstra cost accepteret for bedre kvalitet

### ‚ùå Global Kimi restrictions - fjern
**Rationale:** Tool policies skal ligge hos individuelle agents, ikke globalt
- Fjern `tools.byProvider` begr√¶nsninger
- Hver agent definerer egne restrictions
- Filosofi: "Hvis vi mangler en agent, laver vi den"

### üìã Todo tilf√∏jet
- Test sandbox/container isolation (Proxmox)
- Implementer tool policies per agent
- Implementer fallback observability
- Implementer verifier pattern

**Status:** Security hardening proposal opdateret med beslutninger, klar til implementering

**Blocker:** Afventer Danny's godkendelse af √•bne punkter:
- Communicator browser-adgang?
- Coordinator restrictions?
- Fallback notification-metode?

---

## [08:35-09:00] Security Hardening - Implementation & Tool Policy Debug

**F√∏rste fors√∏g - Forkerte tool-navne:**
- Implementerede tool policies med `profile: "minimal"` + custom allow-lists
- Main agent mistede ALLE tools efter restart
- Problem: `profile: "minimal"` blokerer alt, allow-list virker ikke som forventet

**Debugging-proces:**
1. Fjernede tool restrictions fra main midlertidigt
2. Spawned researcher ‚Üí fejlede ogs√• (ingen web_fetch)
3. L√¶ste OpenClaw docs: `/usr/lib/node_modules/openclaw/docs/gateway/sandbox-vs-tool-policy-vs-elevated.md`

**Root cause fundet:**
- SKAL bruge **tool groups** i stedet for individual tool-navne med minimal profile
- Tool groups: `group:sessions`, `group:memory`, `group:fs`, `group:runtime`, `group:ui` osv.
- `allow`-lister uden profile virker bedre end `profile: "minimal"` + allow

**Korrekt implementering (9:00):**
```
main ‚Üí group:sessions, group:memory, read (spawning + delegation)
monitor ‚Üí read, group:memory, web_search, web_fetch
researcher ‚Üí read, group:memory, web_search, web_fetch, image
communicator ‚Üí read, group:memory, message
orchestrator ‚Üí group:runtime, group:fs, group:memory, group:sessions
coordinator ‚Üí read, group:memory, web_search, web_fetch, group:sessions
verifier ‚Üí read, group:memory, web_search, web_fetch
```

**Lessons learned:**
1. OpenClaw tool policies bruger tool groups - ikke individuelle tool-navne med profiles
2. `profile: "minimal"` + `allow` giver konflikt - brug kun `allow` uden profile
3. Test hver agent efter config-√¶ndring (spawn researcher/orchestrator)
4. Gateway restart kr√¶vet efter tool policy √¶ndringer

**Status:** Config opdateret korrekt, gateway genstartet, guardrails aktive ‚úÖ
